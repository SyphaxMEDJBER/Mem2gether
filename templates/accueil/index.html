{% extends "base.html" %}
{% load static %}

{% block content %}

<div class="hero">
    <div class="hero-overlay"></div>
    <div class="d-flex flex-column flex-md-row justify-content-center align-items-center gap-3 mt-4">
        <a href="/signin" class="btn btn-primary btn-lg px-4">Commencer</a>
        {% if user.is_authenticated %}
        <a href="/rooms/create/" class="btn btn-outline-light btn-lg px-4">Créer une room</a>
        {% else %}
        <a href="/signup" class="btn btn-outline-light btn-lg px-4">Créer un compte</a>
        {% endif %}
        <a href="/rooms/join/" class="btn btn-outline-light btn-lg px-4">Rejoindre une room</a>
    </div>

</div>

<div class="container py-5">
    <h2 class="text-center fw-bold mb-5">Fonctionnalités</h2>

    <div class="row g-4">

        <div class="col-md-4">
            <div class="feature-card">
                <h4 class="fw-bold">Lecture synchronisée</h4>
                <p class="text-muted">Regardez la même vidéo au même moment.</p>
            </div>
        </div>

        <div class="col-md-4">
            <div class="feature-card">
                <h4 class="fw-bold">Chat en direct</h4>
                <p class="text-muted">Discutez en temps réel avec votre groupe.</p>
            </div>
        </div>

        <div class="col-md-4">
            <div class="feature-card">
                <h4 class="fw-bold">Playlist partagée</h4>
                <p class="text-muted">Ajoutez et organisez vos vidéos.</p>
            </div>
        </div>

    </div>
</div>
<!-- Popup rejoindre room -->
<div id="join-room-popup"
     style="display:none; position:fixed; inset:0; background:rgba(0,0,0,0.6);
            justify-content:center; align-items:center; z-index:9999;">

    <div style="background:#111118; padding:30px; border-radius:12px; width:90%; max-width:400px;
                box-shadow:0 0 20px rgba(124,58,237,0.4);">

        <h4 class="text-center mb-3" style="color:#a78bfa;">Rejoindre une room</h4>

        <form method="POST" action="/rooms/join/">
            {% csrf_token %}

            <input type="text" name="room_id" class="form-control mb-3"
                   placeholder="Code de la room" required>

            <button class="btn btn-primary w-100">Rejoindre</button>
        </form>

        <button id="close-join-popup"
                class="btn btn-outline-light w-100 mt-3">
            Annuler
        </button>

    </div>
</div>

<script>
    document.getElementById("join-room-btn").addEventListener("click", () => {
        document.getElementById("join-room-popup").style.display = "flex";
    });

    document.getElementById("close-join-popup").addEventListener("click", () => {
        document.getElementById("join-room-popup").style.display = "none";
    });
</script>











{% endblock %}
